Get next line function
Currently it's returning all lines and it's working with all buffer sizes, except if there are no newline characters. In that scenario it doesn't return anything.
